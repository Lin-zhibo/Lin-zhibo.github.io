// source/css/custom.styl

// ============================================================
// 1. 定义颜色变量
// (由于此文件独立编译，必须在此处明确定义颜色值)
// ============================================================
$neon-blue = #02d7f2   // 赛博朋克蓝 (常态)
$neon-green = #00ff41  // 赛博朋克绿 (悬浮)

// ============================================================
// 2. 正文区域 (.content) 链接样式
// ============================================================
// 逻辑：排除掉按钮(.button)和标签(.tag)，只针对正文里的普通文字链接
.content a:not(.button):not(.tag)
    color: $neon-blue               // 强制设定常态为蓝色
    transition: color 0.2s ease     // 添加0.2秒平滑过渡动画
    
    &:hover
        color: $neon-green !important // 鼠标悬浮时变为绿色

// ============================================================
// 3. 页脚区域 (.footer) 链接样式
// ============================================================
.footer a:not(.button)
    // 页脚链接常态保留原有颜色（通常是黑色或深色），仅在悬浮时变色
    transition: color 0.2s ease
    
    &:hover
        color: $neon-green !important // 鼠标悬浮时变为绿色

// ============================================================
// 4. Mermaid 流程图样式修复（极致缩小版）
// ============================================================
.mermaid
    background: transparent !important
    border: none !important
    margin: 2rem auto !important
    text-align: center !important
    width: 100% !important
    display: flex !important
    justify-content: center !important
    align-items: center !important
    overflow: visible !important

.mermaid svg
    height: auto !important
    max-width: 85% !important      // 【关键缩小】从90%减到80%，桌面端更紧凑
    width: auto !important
    background-color: transparent !important
    overflow: visible !important
    
    // 【缩小字体】整体文字更小，图更紧凑
    font-family: "Arial", sans-serif !important
    font-size: 14px !important     // 从16px减到14px（视觉上显著缩小）
    letter-spacing: normal !important
    line-height: normal !important

    // 手机端保险（避免太小）
    @media (max-width: 768px)
        max-width: 100% !important
        font-size: 15px !important   // 手机稍大一点，可读性更好

// 节点文字容器（移除换行逻辑 + 额外压缩）
.mermaid g.node foreignObject
    overflow: visible !important

.mermaid g.node foreignObject div,
.mermaid g.node foreignObject span
    line-height: 1.3 !important
    color: #fff !important
    margin: 0 !important
    padding: 0 !important          // 【移除额外padding】进一步压缩节点高度
    white-space: nowrap !important // 【不换行】长文本保持单行，高度最小化